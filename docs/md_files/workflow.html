<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Start of the workflow &mdash; BIDSconvertR 0.0.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Advanced features" href="usage_notes_advanced.html" />
    <link rel="prev" title="Creation of ‘user settings’ file." href="usage_notes_user_settings.html" />
    <link href="../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> BIDSconvertR
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="bidsconvertr.html">BIDSconvertR</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Install R, dependencies and RStudio</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation_bidsconvertr.html">Install the BIDSconvertR</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Workflow:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="usage_notes.html">Usage notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage_notes_user_settings.html">Creation of ‘user settings’ file.</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Start of the workflow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-sequence-mapper-gui">The sequence mapper GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bids-dataset-validation">BIDS dataset &amp; validation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="usage_notes_advanced.html">Advanced features</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorial:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Additional information:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="user_settings_file.html">What is in my ‘user_settings.R’ file?</a></li>
<li class="toctree-l1"><a class="reference internal" href="dcm2niix.html">dcm2niix customisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="table_functions.html">Table of functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="table_diagnostic_files.html">Table of diagnostic files</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BIDSconvertR</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Start of the workflow</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/md_files/workflow.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="start-of-the-workflow">
<h1>Start of the workflow<a class="headerlink" href="#start-of-the-workflow" title="Permalink to this heading"></a></h1>
<p>Your data is converted into NifTI format using dcm2niix based on the inputs.</p>
<p>Each JSON header is read out and combined into one file.</p>
<section id="the-sequence-mapper-gui">
<h2>The sequence mapper GUI<a class="headerlink" href="#the-sequence-mapper-gui" title="Permalink to this heading"></a></h2>
<p>After extracting the distinct sequence-IDs, the <code class="docutils literal notranslate"><span class="pre">Sequence</span> <span class="pre">Mapper</span></code>, a Shiny application is started.
You should be able to rename your sequences in accordance with the BIDS specification.
A double-click on a cell will open it for editing.
The <code class="docutils literal notranslate"><span class="pre">Sequence</span> <span class="pre">Mapper</span></code> should now begin displaying the interface as follows:</p>
<p><img alt="Sequence mapper" src="../_images/sequence_mapper.PNG" /></p>
<p>You have to edit each entry according to the BIDS specification.
Some tips can be found on the left panel and hyperlinks to the BIDS specification.
Then you click “save” and close the ‘sequence mapper’.</p>
<video width="100%" height="auto" controls="controls">
  <source src="../_images/color_coding_validation.mp4" title="Sequence mapper color-coded validation" type="video/mp4">
  <a href="../_images/color_coding_validation.mp4">Sequence mapper color-coded validation</a>
</video>
<ol class="arabic simple">
<li><p>You must edit every cell with the phrase “please edit.”</p></li>
<li><p>Using regular expressions based on BIDS, each ‘BIDS_sequence’ and ‘BIDS_type’ entry is validated in the backend.
There is a good possibility that a row will provide a valid BIDS output if it is coloured “green.”</p></li>
<li><p>Note that you are not restricted in how you name files by us.
If you mark a non-valid BIDS string as relevant, it will be copied to BIDS and you can save it.</p></li>
<li><p>Red rows with “irrelevant” flagged cells can be disregarded.
There is no export of these to BIDS.
However, you need to take the “please edit” out of them.
This is required in order for the algorithm to recognize that the user has changed each cell.</p></li>
<li><p>After clicking “save”, please exit the app.
The workflow continues after the closing.</p></li>
</ol>
<p><img alt="The color-coding of the Sequence Mapper. Can you find out, why some rows are still red?" src="../_images/sequence_mapper_validity.png" /></p>
<p>When a sequence is recognised as BIDS compatible, it is indicated in the “matched” column.
Investigate each letter of the filename if your sequence appears in the “unmatched” column.</p>
</section>
<section id="bids-dataset-validation">
<h2>BIDS dataset &amp; validation<a class="headerlink" href="#bids-dataset-validation" title="Permalink to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only the metadata contained within the BIDS folder is free of potentially identifiable information. Follow the legal terms when sharing your dataset and consider additional defacing, pseudonymization, or both.</p>
</div>
<p>When everything is in order:</p>
<ol class="arabic simple">
<li><p>The files are copied to BIDS.</p></li>
<li><p>The BIDS validation process begins.
If Docker is already installed on your machine, it is started automatically.
If not, the online-version is launched, and you must choose your folder manually.
Please note: Files are never uploaded to the BIDS-Validator.</p></li>
<li><p>You are prompted, if you want to remove temporary images from your hard disk.
Avoid performing this by hand!
Only do this after validating your data and gathering all of your data.</p></li>
<li><p>A Shiny viewer is launched to examine the images visually.</p></li>
</ol>
<p><img alt="BIDS viewer" src="../_images/bids_viewer.PNG" /></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="usage_notes_user_settings.html" class="btn btn-neutral float-left" title="Creation of ‘user settings’ file." accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="usage_notes_advanced.html" class="btn btn-neutral float-right" title="Advanced features" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Niklas Wulms.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>